<UserControl
    x:Class="SmugControl.Views.WidgetGroupView" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:local="clr-namespace:SmugControl.Views"
    xmlns:Converters="clr-namespace:SmugControl.Converters" xmlns:hc="https://handyorg.github.io/handycontrol"
    mc:Ignorable="d" Height="150" Width="300" MouseLeftButtonUp="OnMouseLeftButtonUp" Margin="4" x:Name="Root"
    xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.WPF;assembly=LiveChartsCore.SkiaSharpView.WPF">
    <Border CornerRadius="16" BorderThickness="4" Padding="0">
        <Border.Style>
            <Style TargetType="Border">
                <Style.Triggers>
                    <DataTrigger Binding="{Binding ServerState, ElementName=Root}" Value="Normal">
                        <Setter Property="Background" Value="{DynamicResource RegionBrush}" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding ServerState, ElementName=Root}" Value="Warning">
                        <Setter Property="Background" Value="{DynamicResource WarningBrush}" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding ServerState, ElementName=Root}" Value="Error">
                        <Setter Property="Background" Value="{DynamicResource DangerBrush}" />
                    </DataTrigger>

                    <!-- 선택시 -->
                    <DataTrigger Binding="{Binding IsSelected, ElementName=Root}" Value="True">
                        <Setter Property="BorderBrush" Value="{DynamicResource PrimaryBrush}" />
                    </DataTrigger>

                    <DataTrigger Binding="{Binding IsSelected, ElementName=Root}" Value="False">
                        <Setter Property="BorderBrush" Value="Transparent" />
                    </DataTrigger>
                </Style.Triggers>
                <!--<Setter Property="BorderBrush" Value="Transparent" />-->
            </Style>
        </Border.Style>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition />
            </Grid.RowDefinitions>
            <TextBlock Text="Group 1" Foreground="{DynamicResource ThirdlyTextBrush}" Margin="10,5"
                       FontFamily="Century Gothic" FontSize="30" VerticalAlignment="Top" HorizontalAlignment="Left" />

            <TextBlock FontSize="48" Foreground="{DynamicResource SecondaryTextBrush}" Margin="10,0,5,0"
                       FontFamily="Century Gothic" VerticalAlignment="Top" HorizontalAlignment="Right">
                <TextBlock.Style>
                    <Style TargetType="TextBlock">
                        <Setter Property="Text" Value="9999" />
                        <!-- 기본값 설정 -->
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding ServerState, ElementName=Root}" Value="Error">
                                <Setter Property="Text" Value="...." />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </TextBlock.Style>
            </TextBlock>

            <lvc:CartesianChart x:Name="chart" Grid.Row="1"
                                SyncContext="{Binding Sync}"
                                XAxes="{Binding XAxes}"
                                Series="{Binding Series}" />
        </Grid>
    </Border>
</UserControl>